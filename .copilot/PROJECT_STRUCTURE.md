# Project Structure & Folder Generation Guide

This document explains how to update and synchronize the project folder structure, especially when adding new modules or reorganizing code. It is intended for both developers and AI assistants (like Copilot).

---

## How to Update the Project Structure

1. **Review the Main README**

   - The canonical project structure is described in `endoai/README.md` (and sometimes in the root `README.md`).
   - Use the directory tree in the README as the source of truth for what folders and files should exist.

2. **Generate Missing Folders**

   - Compare the actual folders in the repository to those listed in the README.
   - Create any missing directories (e.g., `src/preoperative/`, `src/intraoperative/`, `core/`, `pipelines/`, etc.).
   - Ensure each directory contains a `README.md` and, for Python packages, an `__init__.py`.

3. **Add Standard Files**

   - For each new or reorganized folder:
     - Add a `README.md` describing the folder’s purpose.
     - Add an `__init__.py` if the folder is a Python package/module.
     - Add example or template scripts if appropriate.

4. **Keep Documentation in Sync**

   - Whenever you add, remove, or rename a folder, update the directory tree in the main `README.md` and in the relevant subfolder `README.md`.
   - Ensure all documentation links and references are correct.

5. **Automate Where Possible**

   - Use scripts (e.g., `scripts/add_readme_and_init.py`) to automatically create missing `README.md` and `__init__.py` files.
   - Consider writing a script to parse the directory tree from the README and generate the folder structure automatically.

---

## Additional Files in This Folder

### COPILOT.md
```markdown
<!-- filepath: /home/kevin/Projects/Development/ENDOAI/.copilot/COPILOT.md -->
# Copilot Usage Guide

This document provides guidelines for using GitHub Copilot effectively in the ENDOAI project.

## Best Practices

- Use clear and concise prompts to guide Copilot.
- Break down complex tasks into smaller, manageable steps.
- Review and test all code generated by Copilot before integrating it into the project.
- Use Copilot to generate boilerplate code, but ensure critical logic is reviewed and optimized manually.

## Common Prompts

- "Generate a Python script for preprocessing medical images."
- "Create a README.md for the `src/preoperative/` folder."
- "Add a function to calculate risk scores based on patient data."

## Troubleshooting

- If Copilot generates incorrect or irrelevant code, refine your prompt or provide more context.
- Use the "Undo" feature in your IDE to revert unwanted changes.
- If Copilot is not responding, ensure your IDE is connected to the internet and the Copilot extension is enabled.

## See Also

- [PROJECT_STRUCTURE.md](PROJECT_STRUCTURE.md) — Guide for maintaining the project structure.
```

### add_readme_and_init.py
```python
# filepath: /home/kevin/Projects/Development/ENDOAI/.copilot/add_readme_and_init.py
"""
Script to Add README.md and __init__.py Files

This script automates the creation of README.md and __init__.py files for missing folders in the ENDOAI project.
"""

import os

def create_readme_and_init(folder_path, readme_content, init_content=""):
    """
    Create README.md and __init__.py files in the specified folder.

    Args:
        folder_path (str): Path to the folder.
        readme_content (str): Content for the README.md file.
        init_content (str): Content for the __init__.py file (default is empty).
    """
    os.makedirs(folder_path, exist_ok=True)

    # Create README.md
    readme_path = os.path.join(folder_path, "README.md")
    with open(readme_path, "w") as readme_file:
        readme_file.write(readme_content)

    # Create __init__.py
    init_path = os.path.join(folder_path, "__init__.py")
    with open(init_path, "w") as init_file:
        init_file.write(init_content)

    print(f"Created README.md and __init__.py in {folder_path}")

if __name__ == "__main__":
    # Example usage
    folder = "../src/example_folder"
    readme = "# Example Folder\n\nThis folder contains example scripts and modules."
    create_readme_and_init(folder, readme)
```

---

## Example Workflow

1. Edit `endoai/README.md` to update the desired structure.
2. Run or write a script to:
    - Parse the directory tree from the README.
    - Create any missing folders.
    - Add standard files as needed.
3. Manually review and update `README.md` files in each folder to provide context and documentation.

---

## See Also

- [../endoai/README.md](../endoai/README.md) — Main project structure and documentation.
- [add_readme_and_init.py](add_readme_and_init.py) — Script to add `README.md` and `__init__.py` files.
- [COPILOT.md](COPILOT.md) — Coding standards and preferences.
